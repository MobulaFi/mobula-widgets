{"id":"uYtm","dependencies":[{"name":"C:\\Users\\Veeno\\Desktop\\fse\\react-widget\\package.json","includedInParent":true,"mtime":1662043584758},{"name":"C:\\Users\\Veeno\\Desktop\\fse\\react-widget\\node_modules\\@supabase\\storage-js\\package.json","includedInParent":true,"mtime":1661947879672},{"name":"./fetch","loc":{"line":10,"column":34,"index":715},"parent":"C:\\Users\\Veeno\\Desktop\\fse\\react-widget\\node_modules\\@supabase\\storage-js\\dist\\module\\lib\\StorageFileApi.js","resolved":"C:\\Users\\Veeno\\Desktop\\fse\\react-widget\\node_modules\\@supabase\\storage-js\\dist\\module\\lib\\fetch.js"},{"name":"./helpers","loc":{"line":11,"column":29,"index":755},"parent":"C:\\Users\\Veeno\\Desktop\\fse\\react-widget\\node_modules\\@supabase\\storage-js\\dist\\module\\lib\\StorageFileApi.js","resolved":"C:\\Users\\Veeno\\Desktop\\fse\\react-widget\\node_modules\\@supabase\\storage-js\\dist\\module\\lib\\helpers.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.StorageFileApi=void 0;var t=require(\"./fetch\"),e=require(\"./helpers\"),r=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{c(n.next(t))}catch(e){o(e)}}function a(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(s,a)}c((n=n.apply(t,e||[])).next())})};const n={limit:100,offset:0,sortBy:{column:\"name\",order:\"asc\"}},i={cacheControl:\"3600\",contentType:\"text/plain;charset=UTF-8\",upsert:!1};class o{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=(0,e.resolveFetch)(i)}uploadOrUpdate(t,e,n,o){return r(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},i),o),c=Object.assign(Object.assign({},this.headers),\"POST\"===t&&{\"x-upsert\":String(a.upsert)});\"undefined\"!=typeof Blob&&n instanceof Blob?((s=new FormData).append(\"cacheControl\",a.cacheControl),s.append(\"\",n)):\"undefined\"!=typeof FormData&&n instanceof FormData?(s=n).append(\"cacheControl\",a.cacheControl):(s=n,c[\"cache-control\"]=`max-age=${a.cacheControl}`,c[\"content-type\"]=a.contentType);const u=this._removeEmptyFolders(e),l=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${l}`,{method:t,body:s,headers:c});if(d.ok)return{data:{Key:l},error:null};return{data:null,error:yield d.json()}}catch(r){return{data:null,error:r}}})}upload(t,e,n){return r(this,void 0,void 0,function*(){return this.uploadOrUpdate(\"POST\",t,e,n)})}update(t,e,n){return r(this,void 0,void 0,function*(){return this.uploadOrUpdate(\"PUT\",t,e,n)})}move(e,n){return r(this,void 0,void 0,function*(){try{return{data:yield(0,t.post)(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}copy(e,n){return r(this,void 0,void 0,function*(){try{return{data:yield(0,t.post)(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createSignedUrl(e,n){return r(this,void 0,void 0,function*(){try{const i=this._getFinalPath(e);let o=yield(0,t.post)(this.fetch,`${this.url}/object/sign/${i}`,{expiresIn:n},{headers:this.headers});const s=`${this.url}${o.signedURL}`;return{data:o={signedURL:s},error:null,signedURL:s}}catch(r){return{data:null,error:r,signedURL:null}}})}createSignedUrls(e,n){return r(this,void 0,void 0,function*(){try{return{data:(yield(0,t.post)(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers})).map(t=>Object.assign(Object.assign({},t),{signedURL:t.signedURL?`${this.url}${t.signedURL}`:null})),error:null}}catch(r){return{data:null,error:r}}})}download(e){return r(this,void 0,void 0,function*(){try{const n=this._getFinalPath(e),i=yield(0,t.get)(this.fetch,`${this.url}/object/${n}`,{headers:this.headers,noResolveJson:!0});return{data:yield i.blob(),error:null}}catch(r){return{data:null,error:r}}})}getPublicUrl(t){try{const r=this._getFinalPath(t),n=`${this.url}/object/public/${r}`;return{data:{publicURL:n},error:null,publicURL:n}}catch(e){return{data:null,error:e,publicURL:null}}}remove(e){return r(this,void 0,void 0,function*(){try{return{data:yield(0,t.remove)(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}list(e,i,o){return r(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},n),i),{prefix:e||\"\"});return{data:yield(0,t.post)(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},o),error:null}}catch(r){return{data:null,error:r}}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\\/|\\/$/g,\"\").replace(/\\/+/g,\"/\")}}exports.StorageFileApi=o;"},"sourceMaps":null,"error":null,"hash":"9554042779108d741112b418de261529","cacheData":{"env":{}}}